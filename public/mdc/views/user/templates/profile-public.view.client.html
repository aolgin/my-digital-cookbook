<ng-include src="'views/misc/templates/header.view.client.html'"></ng-include>

<div id="page-content-wrapper">
    <div class="mdc-msg-text">
        <div class="alert alert-danger" ng-show="model.error">
            {{model.error}}
        </div>
        <div class="alert alert-success" ng-show="model.message">
            {{model.message}}
        </div>
    </div>

    <div>
        <div class="col-xs-12">
            <div class="col-md-8">
                <div>
                    <div class="pull-right">
                        <div ng-if="model.yourProfile">
                            <a href="#/profile">
                                <span class="btn btn-block btn-teal">Edit Profile</span>
                            </a>
                        </div>

                        <div ng-if="model.isFollowing">
                            <a ng-click="model.unfollowUser()">
                                <span class="btn btn-block btn-danger">Unfollow Chef</span>
                            </a>
                        </div>

                        <div ng-if="model.uid && !model.yourProfile && !model.isFollowing">
                            <a ng-click="model.followUser()">
                                <span class="btn btn-block btn-success">Follow Chef</span>
                            </a>
                        </div>
                    </div>

                    <h3>Chef {{model.user.username}}</h3>
                </div>
                <h5>Started cooking {{model.user.dateCreated | date}}</h5>
                <br>
                <div ng-if="model.user.about">
                    <h4>About Me: </h4>
                    <p>{{model.user.about}}</p>
                </div>
            </div>

            <div class="col-md-4">
                <h3>Statistics:</h3>
                <p><b>Cookbooks Created: </b> {{model.numBooks}}</p>
                <p><b>Recipes Created: </b> {{model.numRecipes}}</p>
                <p><b>Follower Count: </b> {{model.numFollowers}}</p>
            </div>

            <hr>
            <div id="user-books">
                <h3>Recent Cookbooks</h3>
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th>Book</th>
                            <th>Description</th>
                            <th>Created</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="book in model.books">
                            <th>
                                <a href="#/cookbook/{{book._id}}">
                                    <span>{{book.name}}</span>
                                </a>
                            </th>
                            <th>
                                <span>{{book.description}}</span>
                            </th>
                            <th>
                                <span>{{book.dateCreated | date}}</span>
                            </th>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <hr>
            <div id="user-recipes">
                <h3>Recent Recipes</h3>
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Recipe</th>
                                <th>Description</th>
                                <th>Created</th>
                            </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="recipe in model.recipes">
                            <th>
                                <a href="#/recipe/{{recipe._id}}">
                                    <span>{{recipe.name}}</span>
                                </a>
                            </th>
                            <th>
                                <span>{{recipe.description}}</span>
                            </th>
                            <th>
                                <span>{{recipe.dateCreated | date}}</span>
                            </th>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <ng-include src="'views/misc/templates/footer.view.client.html'"></ng-include>
</div>