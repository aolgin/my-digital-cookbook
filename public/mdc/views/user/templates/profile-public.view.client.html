<ng-include src="'views/misc/templates/header.view.client.html'"></ng-include>

<div id="page-content-wrapper">
    <div class="mdc-msg-text">
        <div class="alert alert-danger" ng-show="model.error">
            {{model.error}}
        </div>
        <div class="alert alert-success" ng-show="model.message">
            {{model.message}}
        </div>
    </div>

    <div>
        <div ng-if="model.user.img_record.url"
             class="col-md-3 hidden-sm">
            <img ng-src="{{model.user.img_record.url}}" width="100%"/>
        </div>
        <div class="col-md-9 col-xs-12">
            <h3>Chef {{model.user.username}}</h3>
            <h5>Started cooking {{model.user.dateCreated | date}}</h5>
            <br>
            <div ng-if="model.user.about">
                <h4>About Me: </h4>
                <p>{{model.user.about}}</p>
            </div>

            <div ng-if="model.isFollowing">
                <a ng-click="model.unfollowUser()">
                    <span class="btn btn-block btn-danger">Unfollow Chef</span>
                </a>
            </div>
            <div ng-if="model.uid && !model.yourProfile && !model.isFollowing">
                <a ng-click="model.followUser()">
                    <span class="btn btn-block btn-success">Follow Chef</span>
                </a>
            </div>
            <div ng-if="model.yourProfile">
                <a href="#/profile">
                    <span class="btn btn-block btn-teal">Edit Profile</span>
                </a>
            </div>
            <hr>

            <!-- TODO: Table for cookbooks -->
            <!-- TODO: Table for recipes -->



            <h3>Statistics:</h3>
            <p><b>Cookbooks Created: </b> {{model.numBooks}}</p>
            <p><b>Recipes Created: </b> {{model.numRecipes}}</p>
            <p><b>Follower Count: </b> {{model.numFollowers}}</p>

    </div>

        {{model.user}}

    <ng-include src="'views/misc/templates/footer.view.client.html'"></ng-include>
</div>